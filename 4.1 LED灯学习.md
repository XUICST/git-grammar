## 4.1 LED灯学习

#### 1.keil5使用

* 新建工程   **Project** --> **New uVision Project** --> 创建文件夹（推荐|在桌面上新建一个总文件夹、在已建的文件夹中再建一个副文件夹即项目的名字、再在副文件夹中新建一个文件夹标为|推荐为**project**）--> 弹出一个对话框即 *Select Device for Target 'Target 1'...* 在对话框内右下小框中找到 **Atmel** 在其下有一类型 **AT89C52** 与现使用的 *STC89C52* 操作方式和功能差不多  点击OK --> 再在弹出框点击 **否** 。

* 然后需要建立一个文件编写代码即C语言程序文件  在*Target1*中右键入*Source Group 1* 再点击 **Add New Item to Group 'Source Group 1'...** 再在弹出的对话框中选择 **C File (.c)** 进行命名一般都叫 *main* 接下来就可以开始编写代码了。

* 在编写过程中
  * ***调整代码文本字体***  
  
     法一： **ctrl**+滑动鼠标
  
     法二：点击扳手按钮 --> 点击Colors & Fonts --> 点击Window栏中的C/C++ Editor files --> 点击Font栏中的Courier New ... --> Size栏选择字号 --> OK ~
  
  * ***代码编写加头文件***
  
    直接在代码区右键选择 **Insert '#include <REGX52.H>' ** 
  
  * ***选择指定的寄存器*** 
  
    即鼠标右键 <REGX52.H> 选择 Open document <REGX52.H> 即可

* 下载代码到USB中
  * 首先接USB线到电脑 --> 打开STC-ISP软件，选择单片机/芯片型号 **STC89C52RC系列** --> 再在其附属栏中选择 **STC89C52RC/LE52RC** --> 选择串口号/扫描串口 软件会自动扫描单片机型号 *最长的那一串* --> 点击keil5软件中的**Options for Target** --> "点击Output选项卡 勾选**Create HEX File** 点击OK（注：勾选之后就不用管啦~） --> 再次编译 -->" 再次打开STC-ISP软件 点击打开程序文件 选择 **Objects文件** 打开 ***Project.hex*** --> 下载/编程 --> 重新打开单片机开关即可工作

#### 2.点灯

- [ ] 点亮一个LED灯

* 第一次看视频讲解的只亮了一下，感觉有点慌（以为买到了盗版的）。但打开弹幕后发现不止我一个出现了这种情况，同时感到惊喜的是有热心的朋友介绍选择正确的单片机/芯片型号 就好了。

  

  * 跟着视频学，第一次玩单片机，亮了心里甭说有多高兴。

  

  ![](https://github.com/XUICST/git-grammar/blob/main/IMG20230114215519.jpg)



- [ ] LED闪烁

* 延时代码书写有简便方法是在stc程序框的右上角找到**软件延时计算器**，然后选择系统频率（在晶振上看），自选定时长度，8051指令集选择**STC-Y1**，复制代码即可
  * 然后再延时函数内有一个_ nop _ 函数，这时就要加一个头文件  **#include <INTRINS.H>** 就可以啦！

<video id="video" controls="" preload="none">
     <source id="mp4" src="C:\Users\xiaoshang\OneDrive\文档\Tencent Files\2179238624\FileRecv\MobileFile\VID20230114223655.mp4"></video>

但有点搞不懂 照着网上的MP4播发解决方法还是_不行_  
有种解决方法为转换为GIF文件，效果和MP4差不多


![VID20230114223655](https://github.com/XUICST/git-grammar/blob/main/VID20230114223655.gif)



- [ ] 流水灯
